webpackJsonp([15],{14:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Confirm",props:{width:{type:String,default:"300px"},title:{type:String,default:"信息"},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},mask:{default:!0},visible:{default:!1},isShowCloseBtn:{default:!0}},methods:{cancel:function(){this.$emit("cancel")},sure:function(){this.$emit("ok")}},mounted:function(){}}},17:function(t,e){},18:function(t,e,a){a(17);var i=a(1)(a(14),a(19),"data-v-c1bd9694",null);t.exports=i.exports},19:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.visible?a("div",{staticClass:"f-dialog-confirm"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.mask,expression:"mask"}],staticClass:"mask"}),t._v(" "),a("div",{staticClass:"container",style:{width:t.width}},[a("div",{staticClass:"header"},[a("span",[t._v(t._s(t.title))]),t._v(" "),t.isShowCloseBtn?a("a",{staticClass:"icon icon-close close",attrs:{href:"javascript:;"},on:{click:t.cancel}}):t._e()]),t._v(" "),a("div",{staticClass:"content"},[t._t("content")],2),t._v(" "),a("div",{staticClass:"footer"},[t._t("footer",[a("a",{staticClass:"g-btn-red btn-ok",attrs:{href:"javascript:;"},on:{click:t.sure}},[t._v(t._s(t.okText))]),t._v(" "),a("a",{staticClass:"g-btn-normal btn-cancel",attrs:{href:"javascript:;"},on:{click:t.cancel}},[t._v(t._s(t.cancelText))])])],2)])]):t._e()])},staticRenderFns:[]}},374:function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(18),s=n(o),r=a(6),c=i(r),d=a(12),l=i(d);e.default={data:function(){return{category:null,addTxt:"",isEdit:null,renameTxt:"",oldTxt:"",editIdx:null,confirmDialogVisible:!1,deleteIdx:0,deleteCatName:"",setting:""}},created:function(){var t=this;ydk.queryWordBookCategory({success:function(e){t.category=e.data?e.data:[],t.autoSize()}})},components:{Confirm:s.default},watch:{},mounted:function(){var t=this;$("div.category-manage").click(function(e){var a=$(e.target).hasClass("editing-input")||$(e.target).hasClass("editing");a||(t.isEdit=null)}),c.get(function(e){t.setting=e})},methods:{cancel:function(){ydk.closeWin({type:"Wordbook"})},confirm:function(){ydk.closeWin({type:"Wordbook"})},ok:function(){var t=this;t.deleteCatName==t.setting.wordbook.defaultCategory&&(t.setting.wordbook.defaultCategory="",c.save(t.setting,function(e){l.emit("setting.save",t.setting,"all")})),ydk.removeWordBookCategory({name:t.deleteCatName,success:function(e){t.category.splice(t.deleteIdx,1),t.autoSize()}}),t.confirmDialogVisible=!1},callof:function(){var t=this;t.confirmDialogVisible=!1},deleteCategory:function(t,e){var a=this;a.confirmDialogVisible=!0,a.deleteIdx=e,a.deleteCatName=t},doubleClick:function(t,e){var a=this;if(a.isEdit!=e){a.editIdx=e,a.oldTxt=t,a.renameTxt=t,a.isEdit=e;var i=$(".editing-input").eq(e);setTimeout(function(){i.select()},20)}},renameCategory:function(){var t=this,e=t.oldTxt,a=t.renameTxt,i=!1,n=t.editIdx,o="分组命名重复了哦";return t.isEdit=null,_.each(t.category,function(t){t.name==a?i=!0:"未分组"!=a&&"所有分组"!=a&&"未分组单词"!=a||(o="不能取该分组名",i=!0)}),i?void t.$toast.show({text:o,type:"warn"}):(t.category[n].name=a,ydk.updateWordBookCategory({name:e,newname:a}),void t.autoSize())},addCategory:function(){var t=this,e=!1,a=t.addTxt,i="分组命名重复了哦";return t.addTxt="",_.each(t.category,function(t){t.name==a?e=!0:"未分组"!=a&&"所有分组"!=a&&"未分组单词"!=a||(i="不能取该分组名",e=!0)}),e?void t.$toast.show({text:i,type:"warn"}):void(a.length<1||(ydk.addWordBookCategory({name:a}),t.category.unshift({name:a}),t.autoSize()))},autoSize:function(){var t=this,e=t.category.length,a=0;a=e<5?151+35*e:340,ydk.setWinSize({width:360,height:a+40,type:"Wordbook"})}}}},540:function(t,e){},692:function(t,e,a){a(540);var i=a(1)(a(374),a(751),"data-v-5882ad14",null);t.exports=i.exports},751:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"category-manage"},[a("p",{staticClass:"tips"},[t._v("双击分组名称重命名")]),t._v(" "),a("ul",[a("div",{staticClass:"category-wrap"},t._l(t.category,function(e,i){return a("li",{class:{active:t.isEdit==i}},[a("div",{staticClass:"category-list",on:{dblclick:function(a){return t.doubleClick(e.name,i)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit!=i,expression:"isEdit != index"}]},[t._v("\n                  "+t._s(e.name)),a("a",{staticClass:"delete",attrs:{href:"javascript:;"},on:{click:function(a){return t.deleteCategory(e.name,i)}}},[a("span",{staticClass:"icon icon-delete"})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit==i,expression:"isEdit == index"}],staticClass:"editing"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.renameTxt,expression:"renameTxt"}],staticClass:"editing-input",attrs:{type:"text"},domProps:{value:t.renameTxt},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.renameCategory(e)},input:function(e){e.target.composing||(t.renameTxt=e.target.value)}}})])])])}),0),t._v(" "),a("li",{staticClass:"addSort"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addTxt,expression:"addTxt"}],attrs:{type:"text",placeholder:"创建新分组，按回车键保存"},domProps:{value:t.addTxt},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCategory(e)},input:function(e){e.target.composing||(t.addTxt=e.target.value)}}})])])]),t._v(" "),a("Confirm",{attrs:{mask:!1,width:"290px",title:"提醒",visible:t.confirmDialogVisible,cancelText:"取消",okText:"确定"},on:{ok:t.ok,cancel:t.callof}},[a("h1",{staticClass:"confirm-tips",attrs:{slot:"content"},slot:"content"},[t._v("是否确定删除该分组？")])])],1)},staticRenderFns:[]}}});